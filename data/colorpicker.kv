#:import get_color_from_hex kivy.utils.get_color_from_hex
<ColorButton>:
    theme_bg_color: "Custom"
    md_bg_color: get_color_from_hex(app.text_colors[self.real_name])
    theme_width: "Custom"
    size_hint_x: 1
    text: text

    MDButtonText:
        id: text
        text: self.parent.color_usage
        theme_text_color: "Custom"
        theme_font_size: "Custom"
        text_color: (1, 1, 1, 1)
        font_size: 17.0
        outline_width: 1.5

<SavePresetDialog>:
    file_name: text
    save: save
    cancel: cancel
    MDDialogHeadlineText:
        text: "Save Preset As..."

    MDDialogContentContainer:
        orientation: "vertical"
        spacing: 10
        MDDivider:
        MDTextField:
            id: text
            MDTextFieldHintText:
                text: "Preset Name"
    MDDialogButtonContainer:
        spacing: 5
        Widget:
        MDButton:
            id: save
            MDButtonText:
                text: "Save"
        MDButton:
            id: cancel
            MDButtonText:
                text: "Cancel"

ContainerLayout:
    md_bg_color: app.theme_cls.backgroundColor
    grid: grid
    color_picker: color_picker
    options: options
    presets: presets
    buttons: buttons
    colors: colors
    theme: theme
    style: style
    palette: palette
    scheme: scheme
    contrast: contrast

    MainLayout:
        id: grid
        cols: 1
        spacing: 20
        padding: 20

        ColorPicker:
            id: color_picker

        MDBoxLayout:
            id: options
            size_hint_y: None
            height: "40dp"
            orientation: "horizontal"
            Widget:
            MDButton:
                on_release: app.restore_defaults()
                MDButtonText:
                    text: "Restore Defaults"

            MDButton:
                on_release: app.restore_current()
                MDButtonText:
                    text: "Restore Current"

            MDButton:
                id: presets
                text: presets_txt
                MDButtonText:
                    id: presets_txt
                    text: "Preset Loaded: None"
            Widget:


        MainLayout:
            id: buttons
            cols: 2

            MainLayout:
                id: colors
                cols: 3
                spacing: 5
                padding: (5, 10)


            MainLayout:
                id: theme
                cols: 1
                spacing: 5
                padding: (5, 10)
                size_hint_x: 0.5

                MDButton:
                    id: style
                    text: "Theme Style:"

                    MDButtonText:
                        text: f"{self.parent.text} {self.theme_cls.theme_style.title()}"

                MDButton:
                    id: palette
                    text: "Primary Palette:"

                    MDButtonText:
                        text: f"{self.parent.text} {self.theme_cls.primary_palette.title()}"

                MDButton:
                    id: scheme
                    text: "Dynamic Scheme:"

                    MDButtonText:
                        text: f"{self.parent.text} {self.theme_cls.dynamic_scheme_name.title()}"

                MDBoxLayout:
                    orientation: "vertical"

                    MDLabel:
                        text: "Dynamic Scheme Contrast:"
                        theme_text_color: "Custom"
                        text_color: self.theme_cls.primaryColor

                    MDSlider:
                        id: contrast
                        min: 0
                        max: 100

                        MDSliderHandle:

                        MDSliderValueLabel:
