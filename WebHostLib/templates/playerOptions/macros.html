{% macro Toggle(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="select-container">
                <select id="{{ option_name }}" name="{{ option_name }}">
                    {% if option.default == 1 %}
                        <option value="false">No</option>
                        <option value="true" selected>Yes</option>
                    {% else %}
                        <option value="false" selected>No</option>
                        <option value="true">Yes</option>
                    {% endif %}
                </select>
                {{ RandomizeButton(option_name) }}
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro DefaultOnToggle(option_name, option) %}
    <!-- Toggle handles defaults properly, so we just reuse that -->
    {{ Toggle(option_name, option) }}
{% endmacro %}

{% macro Choice(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="select-container">
                <select id="{{ option_name }}" name="{{ option_name }}">
                    {% for id, name in option.name_lookup.items() %}
                        {% if name != "random" %}
                            {% if option.default == id %}
                                <option value="{{ name }}" selected>{{ option.get_option_name(id) }}</option>
                            {% else %}
                                <option value="{{ name }}">{{ option.get_option_name(id) }}</option>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </select>
                {{ RandomizeButton(option_name) }}
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro Range(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="range-container">
                <input type="range" id="{{ option_name }}" name="{{ option_name }}" min="{{ option.range_start }}" max="{{ option.range_end }}" value="{{ option.default | default(option.range_start) }}" />
                <span id="{{ option_name }}-value" class="range-value">{{ option.default | default(option.range_start) }}</span>
                {{ RandomizeButton(option_name) }}
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro NamedRange(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="named-range-container">
                <select data-option-name="{{ option_name }}">
                    {% for key, val in option.special_range_names.items() %}
                        {% if option.default == val %}
                            <option value="{{ val }}" selected>{{ key }} ({{ val }})</option>
                        {% else %}
                            <option value="{{ val }}">{{ key }} ({{ val }})</option>
                        {% endif %}
                    {% endfor %}
                    <option value="custom" hidden>Custom</option>
                </select>
                <div class="named-range-wrapper">
                    <input type="range" id="{{ option_name }}" name="{{ option_name }}" min="{{ option.range_start }}" max="{{ option.range_end }}" value="{{ option.default | default(option.range_start) }}" />
                    <span id="{{ option_name }}-value" class="range-value">{{ option.default | default(option.range_start) }}</span>
                    {{ RandomizeButton(option_name) }}
                </div>
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro FreeText(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="free-text-container">
                <input type="text" id="{{ option_name }}" name="{{ option_name }}" value="{{ option.default }}" />
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro TextChoice(option_name, option) %}
    <tr>
        <td>{{ OptionTitle(option_nae, option) }}</td>
        <td>
            <div class="text-choice-container">
                <div class="text-choice-wrapper">
                    <select id="{{ option_name }}" name="{{ option_name }}">
                    {% for id, name in option.name_lookup.items() %}
                        {% if name != "random" %}
                            {% if option.default == id %}
                                <option value="{{ name }}" selected>{{ option.get_option_name(id) }}</option>
                            {% else %}
                                <option value="{{ name }}">{{ option.get_option_name(id) }}</option>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </select>
                {{ RandomizeButton(option_name) }}
                </div>
                <input type="text" id="{{ option_name }}-custom" name="{{ option_name }}-custom" placeholder="Custom value..." />
            </div>
        </td>
    </tr>
{% endmacro %}

{% macro PlandoBosses(option_name, option) %}
    <!-- PlandoBosses is handled by its parent, TextChoice -->
    {{ TextChoice(option_name, option) }}
{% endmacro %}

{% macro ItemDict(option_name, option, world) %}
    <span>Item Dict Input Coming Soonâ„¢</span>
{% endmacro %}

{% macro OptionList(option_name, option) %}
    <span>Option List Input Coming Soonâ„¢</span>
{% endmacro %}

{% macro LocationSet(option_name, option, world) %}
    <span>Location Set Input Coming Soonâ„¢</span>
{% endmacro %}

{% macro ItemSet(option_name, option, world) %}
    <span>Item Set Input Coming Soonâ„¢</span>
{% endmacro %}

{% macro OptionSet(option_name, option) %}
    <span>Option Set Input Coming Soonâ„¢</span>
{% endmacro %}

{% macro OptionTitle(option_name, option) %}
    <label for="{{ option_name }}">
        {{ option.display_name|default(option_name) }}:
        <span class="interactive" data-tooltip="{{ option.__doc__ | default("Please document me!") }}">(?)</span>
    </label>
{% endmacro %}

{% macro RandomizeButton(option_name) %}
    <div class="randomize-button" data-tooltip="Toggle randomization for this option!">
        <label>
            <input type="checkbox" id="random-{{ option_name }}" name="random-{{ option_name }}" />
            ðŸŽ²
        </label>
    </div>
{% endmacro %}
